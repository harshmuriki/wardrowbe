# Wardrowbe Backend Environment Variables
# Copy this file to .env and fill in the values

# ============================================
# Required Configuration
# ============================================

# Secret key for JWT tokens (generate with: openssl rand -hex 32)
SECRET_KEY=change-me-in-production

# Database connection
DATABASE_URL=postgresql+asyncpg://wardrobe:wardrobe@db:5432/wardrobe

# Redis connection
REDIS_URL=redis://redis:6379/0

# ============================================
# Application Settings
# ============================================

# Enable debug mode (set to false in production)
DEBUG=false

# CORS allowed origins (comma-separated)
CORS_ORIGINS=["http://localhost:3000"]

# ============================================
# Authentication (choose one method)
# ============================================

# Option 1: Authentik OIDC (validates tokens from frontend)
# AUTHENTIK_URL=https://auth.example.com
# AUTHENTIK_CLIENT_ID=wardrobe
# AUTHENTIK_CLIENT_SECRET=your-client-secret

# Option 2: Forward Auth (trusts headers from reverse proxy)
# Set to true when using TinyAuth, Authelia, or similar
AUTH_TRUST_HEADER=false

# ============================================
# AI Service (OpenAI-compatible API)
# ============================================

# Base URL for AI API (OpenAI, Ollama, LocalAI, etc.)
# Examples:
#   OpenAI: https://api.openai.com/v1
#   Ollama: http://localhost:11434/v1
#   LocalAI: http://localhost:8080/v1
AI_BASE_URL=

# API key (required for OpenAI, optional for local models)
AI_API_KEY=

# Models to use
AI_VISION_MODEL=gpt-4o
AI_TEXT_MODEL=gpt-4o

# Timeouts and retries
AI_TIMEOUT=120
AI_MAX_RETRIES=3

# ============================================
# Notifications (all optional)
# ============================================

# ntfy.sh push notifications (default channel)
# NTFY_SERVER=https://ntfy.sh
# NTFY_TOPIC=wardrobe-notifications
# NTFY_TOKEN=tk_your_token

# Mattermost webhook
# MATTERMOST_WEBHOOK_URL=https://mattermost.example.com/hooks/xxx

# Email (SMTP)
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=notifications@example.com
# SMTP_PASSWORD=your-password

# ============================================
# Storage and Image Processing
# ============================================

# Path to store uploaded images
STORAGE_PATH=/data/wardrobe

# Maximum upload size in MB
MAX_UPLOAD_SIZE_MB=10

# Image processing settings
THUMBNAIL_SIZE=400
MEDIUM_SIZE=800
ORIGINAL_MAX_SIZE=2400
IMAGE_QUALITY=90
